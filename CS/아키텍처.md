## RESTful 아키텍처

**RESTful 아키텍처**는 클라이언트-서버 구조를 따르며, 클라이언트는 서버로 요청을 보내고 서버는 자원을 제공하는 방식으로 동작한다. REST는 무상태(stateless)성을 지키는 것이 중요한 원칙 중 하나이다. 서버는 클라이언트의 상태를 유지하지 않으며, 각 요청은 독립적으로 처리된다. 클라이언트가 상태를 유지하고, 각 요청에 필요한 정보를 함께 보내야 한다.

### **Idempotent(멱등성)** 개념 설명

**Idempotent**란 동일한 요청을 여러 번 수행해도 결과가 변하지 않는 성질을 말한다. 즉, 같은 요청을 여러 번 보내더라도 서버에 저장된 상태는 한 번 수행했을 때와 동일한 상태로 유지된다.

### **Idempotent한 HTTP 메서드**:

- **GET**: 여러 번 요청해도 리소스를 조회하는 것뿐이므로 서버 상태가 변하지 않는다.
- **PUT**: 리소스를 업데이트할 때 사용하며, 여러 번 동일한 데이터를 보내더라도 결과는 한 번 요청한 것과 동일하다.
- **DELETE**: 리소스를 삭제하는 요청이며, 한 번 삭제된 리소스는 여러 번 삭제 요청을 보내더라도 결과는 동일하게 리소스가 삭제된 상태로 남아있다.

### **Idempotent하지 않은 메서드**:

- **POST**: POST는 서버에 새로운 데이터를 생성할 때 사용되며, 동일한 요청을 여러 번 보내면 중복된 데이터가 생성될 수 있기 때문에 Idempotent하지 않다.

```java
import org.springframework.web.bind.annotation.*;

@RestController
@RequestMapping("/api")
public class RestApiController {

    // GET 요청: 자원 조회 (Idempotent)
    @GetMapping("/users/{id}")
    public String getUser(@PathVariable("id") Long id) {
        return "User with ID: " + id;
    }

    // PUT 요청: 자원 업데이트 (Idempotent)
    @PutMapping("/users/{id}")
    public String updateUser(@PathVariable("id") Long id, @RequestBody String user) {
        return "User with ID: " + id + " has been updated.";
    }

    // DELETE 요청: 자원 삭제 (Idempotent)
    @DeleteMapping("/users/{id}")
    public String deleteUser(@PathVariable("id") Long id) {
        return "User with ID: " + id + " has been deleted.";
    }

    // POST 요청: 자원 생성 (Non-Idempotent)
    @PostMapping("/users")
    public String createUser(@RequestBody String user) {
        return "User has been created.";
    }
}

```

- **GET**: `getUser()`는 사용자의 ID로 사용자를 조회하는 메서드로, 여러 번 호출해도 서버 상태는 변하지 않는다.
- **PUT**: `updateUser()`는 사용자의 정보를 업데이트하는 메서드로, 여러 번 동일한 요청을 보내도 최종 상태는 동일하다.
- **DELETE**: `deleteUser()`는 사용자를 삭제하는 메서드로, 리소스가 이미 삭제된 상태에서 다시 호출해도 결과는 동일하다.
- **POST**: `createUser()`는 새로운 사용자를 생성하는 메서드로, 여러 번 요청하면 중복된 데이터가 생성될 수 있다.