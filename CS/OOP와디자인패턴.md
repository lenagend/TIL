## OOP와 디자인패턴

### 개념 설명

**싱글톤 패턴(Singleton Pattern)**:
싱글톤 패턴은 특정 클래스의 인스턴스를 하나만 생성하고, 그 인스턴스에 접근할 수 있는 전역 접근점을 제공하는 디자인 패턴이다. 이 패턴은 주로 자원의 낭비를 방지하거나, 특정 리소스에 대해 일관된 접근을 보장하기 위해 사용한다.

### 장점:

- **자원 절약**: 애플리케이션 내에서 객체를 하나만 생성하여 메모리 사용을 최적화할 수 있다. 예를 들어, 데이터베이스 연결이나 설정 파일을 읽는 클래스에서 유용하다.
- **글로벌 접근**: 애플리케이션 전역에서 동일한 인스턴스를 공유하므로, 전역 상태를 관리하거나 일관된 접근이 필요할 때 유용하다.

### 단점:

- **무결성 문제**: 싱글톤 인스턴스가 여러 스레드에서 동시에 접근될 때 동기화 문제가 발생할 수 있다. 특히, 멀티스레드 환경에서 동시성 문제가 발생할 수 있으며, 이를 방지하기 위해 추가적인 동기화가 필요하다.
- **테스트 어려움**: 싱글톤은 전역 상태를 유지하므로, 유닛 테스트에서 모킹(Mock)을 사용하기 어렵게 만든다. 이는 테스트와 디버깅을 복잡하게 할 수 있다.

### Java에서 싱글톤 패턴 구현

싱글톤 패턴을 구현하는 방법은 여러 가지가 있지만, 멀티스레드 환경에서 안전하게 구현할 수 있는 방법 중 하나는 **enum**을 사용하는 것이다. Enum을 사용하면 JVM에서 싱글톤 인스턴스를 안전하게 관리해주기 때문에 추가적인 동기화 코드가 필요 없다.

### Java 코드 예제: Enum을 사용한 싱글톤 패턴 구현

```java
public enum Singleton {
    INSTANCE;

    // 예제 메서드
    public void doSomething() {
        System.out.println("Singleton instance is doing something.");
    }
}

public class SingletonExample {
    public static void main(String[] args) {
        // Singleton 인스턴스에 접근
        Singleton singleton = Singleton.INSTANCE;
        singleton.doSomething();
    }
}

```

### 코드 설명

1. **Enum Singleton**:
    - `enum` 타입을 사용하여 싱글톤을 구현한다. Java의 `enum`은 기본적으로 싱글톤 패턴을 따르며, JVM에서 인스턴스가 하나만 생성되도록 보장한다.
    - `Singleton.INSTANCE`를 통해 인스턴스에 접근할 수 있으며, 멀티스레드 환경에서도 안전하게 사용할 수 있다.
2. **doSomething() 메서드**:
    - 싱글톤 인스턴스에서 호출할 수 있는 메서드를 정의한다. 이 메서드는 단순히 예제로, 실제 환경에서는 싱글톤 인스턴스를 통해 특정 작업을 수행할 수 있다.

### 다른 구현 방법

이 외에도 `Bill Pugh Singleton`, `Double-Checked Locking`, 또는 `static` 블록을 사용하는 방법 등이 있으며, 각 방법은 상황에 맞게 사용될 수 있다. 그러나, `enum`을 사용한 방식은 구현이 간단하면서도 안전한 방법 중 하나로 권장된다.